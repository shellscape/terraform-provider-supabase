---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "supabase Provider"
subcategory: ""
description: |-
  The Supabase provider allows Terraform to manage resources on the Supabase platform using automatic token exchange for enhanced security.
---

# supabase Provider

The Supabase provider allows Terraform to manage resources on the [Supabase](https://supabase.com/) platform. The provider automatically handles authentication for different API endpoints using intelligent token exchange.

## Authentication

The provider uses a single management access token that you can obtain from the [Supabase Dashboard](https://supabase.com/dashboard/account/tokens). This token is automatically exchanged for appropriate project-level tokens when needed for specific operations.

### Token Types

- **Management Token**: Used for project management, settings configuration, and API key retrieval
- **Service Role JWT**: Automatically obtained and used for storage operations like bucket management
- **Anonymous JWT**: Available for read-only operations (automatically retrieved but cached)

### Automatic Token Exchange

The provider transparently handles different authentication requirements:

- Management API operations (projects, settings, branches) use your management token directly
- Storage operations (bucket CRUD) automatically exchange the management token for a project-level service role JWT
- All token exchange and caching is handled automatically - no additional configuration required

## Example Usage

```terraform
# Configure the provider with your management access token
provider "supabase" {
  access_token = var.supabase_access_token  # or use environment variable SUPABASE_ACCESS_TOKEN
}

# Management operations use the access token directly
resource "supabase_project" "main" {
  organization_id   = "your-org-id"
  name              = "my-project"
  database_password = "secure-password"
  region            = "us-east-1"
}

# Settings configuration also uses management token
resource "supabase_settings" "main" {
  project_ref = supabase_project.main.id
  
  auth = {
    site_url = "https://myapp.com"
  }
}

# Storage operations automatically use project-level JWT
resource "supabase_storage_bucket" "uploads" {
  project_ref = supabase_project.main.id
  name        = "user-uploads"
  public      = false
}
```

## Environment Variables

You can configure the provider using environment variables:

```bash
export SUPABASE_ACCESS_TOKEN="sbp_your_access_token_here"
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `access_token` (String, Sensitive) Supabase management access token. Can also be set via the `SUPABASE_ACCESS_TOKEN` environment variable.
- `endpoint` (String) Supabase API endpoint. Defaults to `https://api.supabase.com`.
